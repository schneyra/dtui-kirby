(function(){"use strict";function o(n,e,t,a,u,v,f,_){var s=typeof n=="function"?n.options:n;return e&&(s.render=e,s.staticRenderFns=t,s._compiled=!0),{exports:n,options:s}}const i={props:{interval:{default:5e3},label:{default:"Autosave"},saved:{default:"Not yet saved."}},mounted:function(){this.timer=setInterval(async()=>{if(this.$store.getters["content/hasChanges"]()){const e=new Date,t=e.toLocaleString(),a=this.$store.getters["content/values"]();localStorage.setItem(`kirby-autosave_${a.uuid}`,JSON.stringify({date:e,content:a})),this.saved=`Saved: ${t}`}},this.interval)},beforeDestroy(){clearInterval(this.timer)}};var r=function(){var e=this,t=e._self._c;return t("div",[t("span",{staticClass:"k-field-header k-label"},[e._v(e._s(e.label))]),t("p",[e._v(e._s(e.saved))])])},c=[],l=o(i,r,c);const d=l.exports;panel.plugin("schneyra/autosave",{fields:{autosave:d}})})();
